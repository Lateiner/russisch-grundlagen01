<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch A1 - Endungen erg√§nzen (12 W√∂rter)</title>
    
    <style>
        :root {
            --primary: #2e7d32; /* Dunkelgr√ºn */
            --primary-light: #a5d6a7;
            --bg-color: #e8f5e9;
            --surface: #ffffff;
            --text: #333;
            --border-radius: 12px;
            
            --success: #43a047;
            --error: #e53935;
            --gap-color: #1976d2;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.5;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--surface);
            padding: 20px;
            border-radius: var(--border-radius);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            border-bottom: 4px solid var(--primary);
        }

        h1 {
            color: var(--primary);
            margin: 0;
            font-size: 1.8rem;
        }

        p.instruction {
            color: #666;
            margin-top: 10px;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        /* Karte */
        .card {
            background: var(--surface);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
        }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .emoji-icon {
            font-size: 3.5rem;
            margin-bottom: 5px;
            display: block;
        }

        .german-hint {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 15px;
            font-style: italic;
        }

        /* Das Wort mit L√ºcke */
        .word-container {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 20px;
            letter-spacing: 1px;
            color: #444;
            background: #f9f9f9;
            padding: 10px 20px;
            border-radius: 8px;
            width: 100%;
            border: 1px solid #eee;
        }

        /* Die L√ºcke selbst */
        .gap {
            display: inline-block;
            min-width: 40px;
            border-bottom: 3px solid var(--gap-color);
            color: var(--gap-color);
            text-align: center;
            cursor: pointer;
            padding: 0 5px;
            transition: color 0.3s;
        }

        .gap.filled {
            border-bottom-style: solid;
        }

        /* Options-Buttons */
        .options-wrapper {
            display: flex;
            gap: 8px;
            justify-content: center;
            width: 100%;
        }

        .opt-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%; /* Rund */
            border: 2px solid #ddd;
            background: white;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            color: #555;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .opt-btn:hover {
            background-color: #f0f0f0;
            border-color: #bbb;
        }

        /* Aktiv (gew√§hlt) */
        .opt-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: scale(1.1);
        }

        /* Feedback-Status */
        .card.correct .gap {
            color: var(--success);
            border-bottom-color: var(--success);
        }
        .card.wrong .gap {
            color: var(--error);
            border-bottom-color: var(--error);
        }

        /* Globale Steuerung */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            padding: 20px;
            background: var(--surface);
            border-radius: var(--border-radius);
            position: sticky;
            bottom: 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
            z-index: 100;
            flex-wrap: wrap;
        }

        button.main-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: filter 0.2s;
            color: white;
        }

        button.main-btn:hover { filter: brightness(1.1); }
        
        .btn-check { background-color: var(--primary); }
        .btn-reset { background-color: #757575; }
        .btn-solve { background-color: #ffa726; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>Morphologie: Endungen erg√§nzen üß©</h1>
        <p class="instruction">
            Schau dir das Bild und den Wortstamm an.<br>
            Klicke auf die richtige Endung, um das Wort zu vervollst√§ndigen.
        </p>
    </header>

    <div class="grid" id="morphGrid">
        <!-- Karten werden hier generiert -->
    </div>

    <div class="controls">
        <button class="main-btn btn-check" onclick="checkAll()">√úberpr√ºfen</button>
        <button class="main-btn btn-reset" onclick="resetAll()">Zur√ºcksetzen</button>
        <button class="main-btn btn-solve" onclick="showSolution()">L√∂sung anzeigen</button>
    </div>
</div>

<script>
    // Datenbasis
    // root: Der Wortstamm
    // correct: Die richtige Endung
    // options: Die Auswahlm√∂glichkeiten (3 St√ºck)
    const items = [
        { emoji: "ü™ü", de: "das Fenster (Neutrum)", root: "–û–∫–Ω", correct: "–æ", options: ["–∞", "–æ", "–µ"] },
        { emoji: "üë©", de: "die Tante (Feminin)", root: "–¢—ë—Ç", correct: "—è", options: ["—è", "–∞", "—å"] },
        { emoji: "üí°", de: "die Lampe (Feminin)", root: "–õ–∞–º–ø", correct: "–∞", options: ["–æ", "–∞", "—è"] },
        { emoji: "üåä", de: "das Meer (Neutrum)", root: "–ú–æ—Ä", correct: "–µ", options: ["–µ", "–æ", "–∞"] },
        { emoji: "üèõÔ∏è", de: "das Museum (Maskulin)", root: "–ú—É–∑–µ", correct: "–π", options: ["–π", "—å", "–∏"] },
        { emoji: "üë®", de: "der Onkel (Maskulin/Nat√ºrlich)", root: "–î—è–¥", correct: "—è", options: ["–∞", "—è", "–π"] },
        { emoji: "üìñ", de: "das W√∂rterbuch (Maskulin)", root: "–°–ª–æ–≤–∞—Ä", correct: "—å", options: ["–π", "—å", "—è"] },
        { emoji: "‚úâÔ∏è", de: "der Brief (Neutrum)", root: "–ü–∏—Å—å–º", correct: "–æ", options: ["–µ", "–∞", "–æ"] },
        { emoji: "üë®‚Äçüë©‚Äçüëß", de: "die Familie (Feminin)", root: "–°–µ–º—å", correct: "—è", options: ["–∞", "—è", "—å"] },
        { emoji: "üßî", de: "der Papa (Maskulin/Nat√ºrlich)", root: "–ü–∞–ø", correct: "–∞", options: ["–∞", "–æ", "—è"] },
        // Neue Vokabeln
        { emoji: "üöã", de: "die Stra√üenbahn (Maskulin)", root: "–¢—Ä–∞–º–≤–∞", correct: "–π", options: ["–∏", "–π", "—è"] },
        { emoji: "üåô", de: "die Nacht (Feminin)", root: "–ù–æ—á", correct: "—å", options: ["—å", "—á", "–∞"] }
    ];

    const grid = document.getElementById('morphGrid');
    let userSelections = {}; // Speichert: { index: 'gew√§hlteEndung' }

    // Initialisierung
    function init() {
        grid.innerHTML = '';
        userSelections = {};

        items.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.id = `card-${index}`;

            // Buttons HTML erstellen
            let buttonsHtml = '';
            item.options.forEach(opt => {
                buttonsHtml += `<div class="opt-btn" onclick="selectEnd(this, ${index}, '${opt}')">${opt}</div>`;
            });

            card.innerHTML = `
                <div>
                    <span class="emoji-icon">${item.emoji}</span>
                    <div class="german-hint">${item.de}</div>
                </div>
                
                <div class="word-container">
                    ${item.root}<span class="gap" id="gap-${index}">_</span>
                </div>

                <div class="options-wrapper">
                    ${buttonsHtml}
                </div>
            `;
            grid.appendChild(card);
        });
    }

    // Auswahl-Logik
    function selectEnd(btn, index, ending) {
        // Buttons resetten
        const card = document.getElementById(`card-${index}`);
        const buttons = card.querySelectorAll('.opt-btn');
        buttons.forEach(b => b.classList.remove('active'));
        
        // Karte Status resetten (Farben weg)
        card.classList.remove('correct', 'wrong');

        // Button aktivieren
        btn.classList.add('active');

        // L√ºcke f√ºllen
        const gap = document.getElementById(`gap-${index}`);
        gap.textContent = ending;
        gap.classList.add('filled');

        // Speichern
        userSelections[index] = ending;
    }

    // √úberpr√ºfen
    function checkAll() {
        items.forEach((item, index) => {
            const userChoice = userSelections[index];
            const card = document.getElementById(`card-${index}`);
            
            // Reset classes
            card.classList.remove('correct', 'wrong');

            if (!userChoice) {
                return; // Nichts gew√§hlt
            }

            if (userChoice === item.correct) {
                card.classList.add('correct');
            } else {
                card.classList.add('wrong');
            }
        });
    }

    // Zur√ºcksetzen
    function resetAll() {
        userSelections = {};
        items.forEach((item, index) => {
            const card = document.getElementById(`card-${index}`);
            
            // L√ºcke leeren
            const gap = document.getElementById(`gap-${index}`);
            gap.textContent = "_";
            gap.classList.remove('filled');
            
            // Klassen entfernen
            card.classList.remove('correct', 'wrong');
            
            // Buttons deaktivieren
            const buttons = card.querySelectorAll('.opt-btn');
            buttons.forEach(b => b.classList.remove('active'));
        });
    }

    // L√∂sung anzeigen
    function showSolution() {
        resetAll(); // Erst sauber machen

        items.forEach((item, index) => {
            const card = document.getElementById(`card-${index}`);
            const gap = document.getElementById(`gap-${index}`);
            
            // Text einsetzen
            gap.textContent = item.correct;
            gap.classList.add('filled');
            
            // Als korrekt markieren (visuell)
            card.classList.add('correct');

            // Passenden Button markieren
            const buttons = card.querySelectorAll('.opt-btn');
            buttons.forEach(btn => {
                if(btn.innerText === item.correct) {
                    btn.classList.add('active');
                }
            });
        });
    }

    // Start
    init();

</script>

</body>
</html>